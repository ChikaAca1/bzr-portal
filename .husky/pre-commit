#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."
echo ""

# Backend lint
echo "ğŸ“‹ Backend: Running ESLint..."
cd backend && npm run lint || exit 1
echo "âœ… Backend lint passed"
echo ""

# Backend tests
echo "ğŸ§ª Backend: Running tests..."
npm run test -- --run || exit 1
echo "âœ… Backend tests passed"
echo ""

# Frontend lint
echo "ğŸ“‹ Frontend: Running ESLint..."
cd ../frontend && npm run lint || exit 1
echo "âœ… Frontend lint passed"
echo ""

# Frontend type check
echo "ğŸ” Frontend: Running TypeScript check..."
npx tsc --noEmit || exit 1
echo "âœ… Frontend type check passed"
echo ""

echo "âœ¨ All pre-commit checks passed! Ready to commit."
