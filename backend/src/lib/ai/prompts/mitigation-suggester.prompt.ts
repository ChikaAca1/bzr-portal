/**
 * MitigationSuggesterAgent Prompt Template (Phase 3a: T118)
 *
 * Suggests corrective measures to reduce identified hazards.
 */

import { PromptTemplate } from '@langchain/core/prompts';

export const MITIGATION_SUGGESTER_PROMPT = PromptTemplate.fromTemplate(`
Ти си експерт за безбедност и здравље на раду. Твој задатак је да предложиш КОНКРЕТНЕ, ПРИМЕЊИВЕ корективне мере за идентификовану опасност.

ОПАСНОСТ:
Шифра: {hazardCode}
Назив: {hazardName}

КОНТЕКСТ РАДНОГ МЕСТА:
Позиција: {positionName}
Опис посла: {jobDescription}

ПОЧЕТНИ РИЗИК:
E (последице): {E}
P (вероватноћа): {P}
F (учесталост): {F}
Ri (почетни ризик): {Ri}

---

ЗАДАТАК:
1. Предложи 3-5 КОНКРЕТНИХ корективних мера (не генеричких!)
2. Мере морају бити примењиве у српском правном контексту
3. Предложи реалне вредности E, P, F након примене мера

ДОБРИ ПРИМЕРИ МЕРА:
- "Едукација запослених за суочавање са радним стресом кроз обавезну обуку једном годишње"
- "Кратке паузе у раду сваких 2 сата рада са екранима (минимум 10 минута)"
- "Ергономски намештај са подесивом висином столице и монитора"
- "Постављање огледала на угловима ради видљивости виљушкара"
- "Обавезна употреба заштитних рукавица EN 388 при раду са оштрим предметима"

ЛОШИ ПРИМЕРИ (превише генерички):
- "Примените безбедносне мере"
- "Будите опрезни"
- "Користите заштитну опрему" (коју? за шта?)

ФОРМАТ ОДГОВОРА (JSON):
{{
  "suggestedMeasures": "Параграф са 3-5 мера, раздвојених. Свака мера треба бити конкретна и примењива.",
  "expectedReduction": {{
    "E": <број 1-6>,
    "P": <број 1-6>,
    "F": <број 1-6>
  }}
}}

Напиши мере на Српском језику (ћирилица).
`);
